(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{231:function(e,t,a){e.exports=a(421)},357:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setBooks",(function(){return _})),a.d(n,"getBookThunk",(function(){return f}));var r={};a.r(r),a.d(r,"setFilter",(function(){return C})),a.d(r,"setSearchQuery",(function(){return k}));var o={};a.r(o),a.d(o,"addToCart",(function(){return I})),a.d(o,"removeFromCart",(function(){return j})),a.d(o,"isCartOpened",(function(){return T})),a.d(o,"addToShoppingList",(function(){return D}));var c={};a.r(c),a.d(c,"promoCode",(function(){return N})),a.d(c,"checkPromoCode",(function(){return R}));var l=a(0),i=a.n(l),u=a(31),s=a.n(u),m=a(17),d=(a(240),a(19)),b=a(16),p=a(201),E=a.n(p),_=function(e){return{type:"SET_BOOKS",payload:e}},f=function(){return function(e){E.a.get("./books.json").then((function(t){var a=t.data;return e(_(a))}))}},h=a(428),C=function(e){return{type:"SET_FILTER",payload:e}},k=function(e){return{type:"SET_QUERY",payload:e}},O=a(432),v=a(427),y=function(e){var t=e.setFilter,a=e.filterBy,n=e.searchQuery,r=e.setSearchQuery;return i.a.createElement(O.a,{secondary:!0},i.a.createElement(O.a.Item,{active:"all"===a,onClick:function(){return t("all")}},"\u0412\u0441\u0435"),i.a.createElement(O.a.Item,{active:"price_high"===a,onClick:function(){return t("price_high")}},"\u0426\u0435\u043d\u0430(\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),i.a.createElement(O.a.Item,{active:"price_low"===a,onClick:function(){return t("price_low")}},"\u0426\u0435\u043d\u0430(\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),i.a.createElement(O.a.Item,{active:"author"===a,onClick:function(){return t("author")}},"\u0410\u0432\u0442\u043e\u0440"),i.a.createElement(O.a.Item,null,i.a.createElement(v.a,{icon:"search",onChange:function(e){return r(e.target.value)},value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441.."})))},g=Object(m.b)((function(e){var t=e.filter;return{filterBy:t.filterBy,searchQuery:t.searchQuery}}),(function(e){return Object(d.a)({},Object(b.b)(r,e))}))(y),I=function(e){return{type:"ADD_TO_CART",payload:e}},j=function(e){return{type:"REMOVE_FROM_CART",payload:e}},T=function(){return{type:"TOGGLE_THE_CART"}},D=function(){return{type:"ADD_TO_SHOPPING_LIST"}},N=function(e){return{type:"ADD_PROMO_CODE",payload:e}},R=function(){return{type:"CHECK_PROMO_CODE"}},w=a(429),L=a(422),S=a(49),P=a(220),A=a(433),B=(a(357),function(e){var t=e.item,a=e.addToCart,n=e.removeFromCart,r=e.booksInCartIds.reduce((function(e,a){return e+(a===t.id?1:0)}),0);return i.a.createElement(w.a.Content,{image:!0},i.a.createElement(P.a,{wrapped:!0,size:"small",src:t.image}),i.a.createElement(w.a.Description,null,i.a.createElement(A.a,null,t.title),i.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium aut, consequatur dignissimos dolor dolore dolorum fugiat labore minus nulla optio placeat qui quos ratione, reiciendis saepe sequi unde vel voluptatibus."),i.a.createElement("p",null,i.a.createElement("b",null,t.author)),i.a.createElement("div",{className:"book__count"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043d\u0438\u0433 : ",r),i.a.createElement("div",{className:"book__count"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0434\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 : ",t.price," ",i.a.createElement(S.a,{name:"rub"})),i.a.createElement("div",{className:"book__count"},"\u0418\u0442\u043e\u0433\u043e : ",t.price*r," ",i.a.createElement(S.a,{name:"rub"})),i.a.createElement("div",{className:"cart__actions"},i.a.createElement("button",{className:"add__book",onClick:function(){return a(t)}},"+"),i.a.createElement("button",{className:"minus__book",onClick:function(){return n(t.id)}},"-"))))}),M=Object(m.b)((function(e){return{booksInCartIds:e.cart.booksInCartIds}}),(function(e){return Object(d.a)({},Object(b.b)(o,e))}))(B),Q=(a(413),function(e){var t=e.CartItems,a=e.totalPrice,n=e.addToShoppingList,r=e.promoCode,o=e.checkPromoCode,c=e.isbuttonDisabled,l=e.count;return i.a.createElement(w.a,{trigger:i.a.createElement(L.a,null,i.a.createElement(S.a,{name:"shop"}),"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",i.a.createElement("b",null,l),")")},i.a.createElement(w.a.Header,null,"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430"),t.map((function(e){return i.a.createElement(M,{key:e.id+10,item:e})})),i.a.createElement("hr",null),i.a.createElement("div",{className:"cart__module__container"},i.a.createElement("div",{className:"cart__total"},i.a.createElement("div",{className:"cart__total__title"},"\u0418\u0442\u043e\u0433\u043e :"),i.a.createElement("div",{className:"cart__total__value"},a," ",i.a.createElement(S.a,{name:"rub"}))),i.a.createElement("hr",null),i.a.createElement("div",{className:"get__shopping__list"},i.a.createElement(L.a,{onClick:n},"\u041a\u0443\u043f\u0438\u0442\u044c")),i.a.createElement("hr",null),i.a.createElement("div",{className:"cart_promo__code"},i.a.createElement("div",null,i.a.createElement("input",{className:"promo__input",onChange:function(e){return r(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),i.a.createElement(L.a,{className:"promo__button",onClick:o,disabled:!c},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")))))}),F=a(218),H=a.n(F),x=Object(m.b)((function(e){var t=e.cart,a=t.booksInCart,n=t.promoCode,r=t.isbuttonDisabled;return{CartItems:H()(a,(function(e){return e.id})),totalPrice:a.reduce((function(e,t){return e+t.price}),0),CheckPromoCode:n,isbuttonDisabled:r}}),(function(e){return Object(d.a)({},Object(b.b)(o,e),{},Object(b.b)(c,e))}))(Q),G=(a(414),function(e,t){return console.log(e),i.a.createElement("div",{key:Math.random()+2,className:"shopping__list_each__order"},i.a.createElement("div",{className:"shopping__list__title"},i.a.createElement("b",null,"\u0417\u0430\u043a\u0430\u0437 \u2116: \xa0 "),++t),i.a.createElement("div",{className:"shopping__list__order__items"},e.map((function(e){return function(e){var t=e.title,a=e.author,n=e.image;return i.a.createElement("div",{key:Math.random()+1,className:"shopping__list__order__item "},i.a.createElement(w.a.Content,{image:!0},i.a.createElement(P.a,{wrapped:!0,size:"small",src:n}),i.a.createElement(S.a,{name:"checkmark"})," ",t," - ",a))}(e)}))),i.a.createElement("div",{className:"shopping__list__total"},i.a.createElement("b",null,"\u0418\u0442\u043e\u0433\u043e"),":\xa0 ",e.reduce((function(e,t){return e+t.price}),0)," ",i.a.createElement(S.a,{name:"rub"})),i.a.createElement("hr",null))}),q=function(e){var t=e.shoppingList;return i.a.createElement(w.a,{trigger:i.a.createElement(L.a,null,i.a.createElement(S.a,{name:"th list"}),"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a")},i.a.createElement(w.a.Header,null,"\u0412\u0430\u0448\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0438:"),t.map((function(e,t){return G(e,t)})))},K=Object(m.b)((function(e){return{shoppingList:e.cart.shoppingList}}),(function(e){return Object(d.a)({},Object(b.b)(o,e))}))(q),U=Object(m.b)((function(e){var t=e.cart.booksInCart;return{totalPrice:t.reduce((function(e,t){return e+t.price}),0),count:t.length}}),(function(e){return Object(d.a)({},Object(b.b)(o,e))}))((function(e){var t=e.totalPrice,a=e.count;return i.a.createElement(O.a,null,i.a.createElement(O.a.Item,{name:"browse"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),i.a.createElement(O.a.Menu,{position:"right"},i.a.createElement(O.a.Item,null,i.a.createElement(K,null)),i.a.createElement(O.a.Item,{name:"signup"},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",i.a.createElement("b",null,t)," \xa0 \u0440\u0443\u0431."),i.a.createElement(O.a.Item,null,i.a.createElement(x,{count:a}))))})),z=a(91),J=a.n(z),V=a(431),Y=(a(419),function(e){var t=e.book,a=e.addToCart,n=e.addedCount,r=t.title,o=t.author,c=t.price,l=t.image;return i.a.createElement(V.a,null,i.a.createElement(P.a,{src:l}),i.a.createElement(V.a.Content,null,i.a.createElement(V.a.Header,null,r),i.a.createElement(V.a.Meta,null,i.a.createElement("span",{className:"book__card__date"},o))),i.a.createElement(V.a.Content,{extra:!0},i.a.createElement("span",{className:"book__card__rub"},i.a.createElement(S.a,{name:"rub"}),c)),i.a.createElement(L.a,{onClick:function(){return a(t)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",n>0&&"(".concat(n,")")))}),W=Object(m.b)((function(e,t){var a=e.cart,n=t.id;return{addedCount:a.booksInCart.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return Object(d.a)({},Object(b.b)(o,e))}))(Y),X=function(e,t,a){return function(e,t){switch(t){case"all":return e;case"price_high":return J()(e,"price","desc");case"price_low":return J()(e,"price","asc");case"author":return J()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},Z=Object(m.b)((function(e){var t=e.books,a=t.books,n=t.isReady,r=e.filter,o=r.filterBy,c=r.searchQuery;return{books:a&&X(a,o,c),isReady:n}}))((function(e){var t=e.books,a=e.isReady;return i.a.createElement("div",null,i.a.createElement(V.a.Group,{itemsPerRow:4},a?t.map((function(e,t){return i.a.createElement(W,{key:t,id:e.id,book:e})})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430.."))})),$=(a(420),function(e){var t=e.getBookThunk;return Object(l.useEffect)((function(){t()}),[]),i.a.createElement(h.a,null,i.a.createElement(U,null),i.a.createElement(g,null),i.a.createElement(Z,null))}),ee=Object(m.b)(null,(function(e){return Object(d.a)({},Object(b.b)(n,e))}))($),te=a(57),ae={isReady:!1,books:[]},ne={booksInCart:[],booksInCartIds:[],shoppingList:[],isbuttonDisabled:!0,promoCode:""},re={searchQuery:"",filterBy:"all"},oe=Object(b.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(e,(function(e){switch(t.type){case"SET_BOOKS":e.books=t.payload,e.isReady=!0}}))},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(e,(function(e){switch(t.type){case"ADD_TO_CART":e.booksInCart.push(t.payload),e.booksInCartIds.push(t.payload.id);break;case"REMOVE_FROM_CART":e.booksInCart.splice(e.booksInCart.findIndex((function(e){return e.id===t.payload})),1),e.booksInCartIds.splice(e.booksInCartIds.indexOf(t.payload),1);break;case"ADD_TO_SHOPPING_LIST":e.shoppingList.push(e.booksInCart),e.booksInCart=[],e.booksInCartIds=[],e.isbuttonDisabled=!0;break;case"ADD_PROMO_CODE":e.promoCode=t.payload;break;case"CHECK_PROMO_CODE":"DISCOUNT"===e.promoCode&&(e.booksInCart=e.booksInCart.map((function(e){return Object(d.a)({},e,{price:.5*e.price})})),e.isbuttonDisabled=e.isbuttonDisabled=!1)}}))},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(e,(function(e){switch(t.type){case"SET_QUERY":e.searchQuery=t.payload;break;case"SET_FILTER":e.filterBy=t.payload}}))}}),ce=a(219),le=Object(b.d)(oe,Object(b.a)(ce.a));s.a.render(i.a.createElement(m.a,{store:le},i.a.createElement(ee,null)),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.e11caca2.chunk.js.map